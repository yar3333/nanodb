ID = [_a-zA-Z][_a-zA-Z0-9]*
LONGID = ID(?:.ID)*
VAR = \$ID
LONGVAR = VAR(?:->ID)*
FUNC_NAME = ID(?:::ID)*
FUNC_CALL = (LONGVAR|FUNC_NAME)[(]\s*(?:LONGVAR(?:\s*,\s*LONGVAR)*)?\s*[)]

!\((LONGVAR|FUNC_CALL)\?\?'null'\)!$1!i

!use \\nanodb\\php\\Boot;\n!!
!Boot::registerClass\(ID::ID, 'LONGID'\);\n!!

!\n\n\n!\n\n!

!public function whereField [(][$]field, [$]op, [$]value[)]!public function whereField (string $$field, string $$op, $$value)!
!public function where [(][$]rawSqlText[)]!public function where (string $$rawSqlText)!
!public function findMany [(][$]limit = null, [$]offset = null[)]!public function findMany (int $$limit = null, int $$offset = null) : array!
!\\x0A!\\n!
!\\x09!\\t!

!} catch \(\\Throwable \$__hx__caught_e\) {\s*\$__hx__real_e = \(\$__hx__caught_e instanceof HxException \? \$__hx__caught_e->e : \$__hx__caught_e\);\s+\$e = \$__hx__real_e;!} catch (\\Throwable $$e) {!
!\bthrow \(is_object\(\$__hx__throw = \$e\) && \$__hx__throw instanceof \\Throwable \? \$__hx__throw : new HxException\(\$__hx__throw\)\);!throw $$e;!
!} catch \(\\Throwable \$e\) {\s+}!} catch (\\Throwable $$e) {}!
!([ \t]+)} catch \(!$1}\n$1catch (!
